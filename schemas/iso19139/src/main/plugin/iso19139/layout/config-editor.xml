<?xml version="1.0" encoding="UTF-8"?>
<editor xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="../../config-editor.xsd"
  xmlns:gn="http://www.fao.org/geonetwork"
  xmlns:gco="http://www.isotc211.org/2005/gco"
  xmlns:gmd="http://www.isotc211.org/2005/gmd"
  xmlns:gmx="http://www.isotc211.org/2005/gmx"
  xmlns:srv="http://www.isotc211.org/2005/srv"
  xmlns:gml="http://www.opengis.net/gml"
  xmlns:xlink="http://www.w3.org/1999/xlink">

  <!-- Form field type configuration. Default is text. -->
  <fields>
    <for name="gmd:abstract" use="textarea"/>
    <for name="gmd:checkPointDescription" use="textarea"/>
    <for name="gmd:credit" use="textarea"/>
    <for name="gmd:description" use="textarea"/>
    <for name="gmd:evaluationMethodDescription" use="textarea"/>
    <for name="gmd:explanation" use="textarea"/>
    <for name="gmd:handlingDescription" use="textarea"/>
    <for name="gmd:maintenanceNote" use="textarea"/>
    <for name="gmd:measureDescription" use="textarea"/>
    <for name="gmd:purpose" use="textarea"/>
    <for name="gmd:orderingInstructions" use="textarea"/>
    <for name="gmd:otherConstraints" use="textarea"/>
    <for name="gmd:statement" use="textarea"/>
    <for name="gmd:supplementalInformation" use="textarea"/>
    <for name="gmd:specificUsage" use="textarea"/>
    <for name="gmd:userNote" use="textarea"/>
    <for name="gmd:useLimitation" use="textarea"/>


    <for name="gco:Distance" use="number"/>
    <for name="gco:Decimal" use="number"/>
    <for name="gco:Integer" use="number"/>
    <for name="gco:Real" use="number"/>
    <for name="gco:Boolean" use="checkbox"/>


    <for name="gco:Date" use="data-gn-date-picker"/>
    <for name="gco:DateTime" use="data-gn-date-picker"/>



    <!-- gmx:FileName/@src attribute -->
    <for name="src" use="data-gn-logo-selector"/>

    <for name="gmd:electronicMailAddress" use="email"/>

    <for name="gmd:language" use="data-gn-language-picker"/>
    <for name="gmd:languageCode" use="data-gn-language-picker"/>

    <for name="gmd:country" use="data-gn-country-picker"/>

    <for name="gmd:referenceSystemInfo" addDirective="data-gn-crs-selector"/>


    <for name="gmd:contact" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"/>
    </for>
    <for name="gmd:pointOfContact" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"/>
    </for>
    <for name="gmd:distributorContact" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"/>
    </for>
    <for name="gmd:processor" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"/>
    </for>
    <for name="gmd:citedResponsibleParty" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="contact"
              data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"/>
    </for>


    <!-- Example configuration: Add onLine source from subtemplate
    <for name="gmd:onLine" addDirective="data-gn-directory-entry-selector">
      <directiveAttributes
              data-template-add-action="true"
              data-template-type="onLine"
              data-filter='{"_root": "gmd:CI_OnlineResource"}'/>
    </for>
    -->
    <for name="gmd:descriptiveKeywords" addDirective="data-gn-thesaurus-selector">
      <!--
      Example of configuration to disable free text keywords in the thesaurus selector
      <directiveAttributes data-allow-free-text-keywords="false" />

      To restrict the list of thesaurus allowed, set the include attribute
      for the directive.
      <directiveAttributes data-include="external.theme.inspire-theme,external.place.regions"/>
      -->
    </for>
    
    <!-- AZO fields -->
    <for name="jedinstveniOznacivacIzvora" use="textarea"/>
    <for name="akronim" use="textarea"/>
    <for name="tematskoPodrucje" use="textarea"/>
    <for name="tematskoPodpodrucje" use="textarea"/>
    <for name="korisniciPodataka" use="textarea"/>
    <for name="nazivIzvjestaja" use="textarea"/>
    <for name="tijeloZaDostavuPodatakaIzvjesca" use="textarea"/>
    <for name="classification" use="textarea"/>
  </fields>


  <fieldsWithFieldset>
    <name>gmd:MD_Metadata</name>
    <name>gmd:identificationInfo</name>
    <name>gmd:distributionInfo</name>
    <name>gmd:portrayalCatalogueInfo</name>
    <name>gmd:portrayalCatalogueCitation</name>
    <name>gmd:thesaurusName</name>
    <name>gmd:resourceConstraints</name>
    <name>gmd:spatialRepresentationInfo</name>
    <name>gmd:pointOfContact</name>
    <name>gmd:contact</name>
    <name>gmd:graphicOverview</name>
    <name>gmd:citedResponsibleParty</name>
    <name>gmd:dataQualityInfo</name>
    <name>gmd:contentInfo</name>
    <name>gmd:distributionFormat</name>
    <name>gmd:referenceSystemInfo</name>
    <name>gmd:spatialResolution</name>
    <name>gmd:offLine</name>
    <name>gmd:onLine</name>
    <name>gmd:address</name>
    <name>gmd:projection</name>
    <name>gmd:ellipsoid</name>
    <name>gmd:attributes</name>
    <name>gmd:verticalCRS</name>
    <name>gmd:geographicBox</name>
    <name>gmd:EX_TemporalExtent</name>
    <name>gmd:MD_Distributor</name>
    <name>srv:containsOperations</name>
    <name>srv:SV_CoupledResource</name>
    <name>gmd:metadataConstraints</name>
    <name>gmd:aggregationInfo</name>
    <name>gmd:processStep</name>
    <name>gmd:lineage</name>
    <name>gmd:centerPoint</name>
    <name>gml:verticalCS</name>
    <name>gml:verticalDatum</name>
    <name>gmd:identifier</name>    
  </fieldsWithFieldset>

  <multilingualFields>
    <!-- In multilingual mode, define which mode
    the widget should have. If expanded, then one
    field per language is displayed. -->
    <expanded>
      <name>gmd:title</name>
      <name>gmd:abstract</name>
    </expanded>
    <!-- All fields in ISO could be multilingual.
    Define element to exclude.

      The name element can optionally have ancestor, child or parent attributes to
      further restrict the exclusion.  For example if some gmd:code elements are
      multilingual but others are not then adding a parent/child/parent attribute
      can restrict the exclude to only some elements.

      For example:
        <name ancestor="gmd:thesaurusName">gmd:code</name>
        or
        <name child="gmx:Anchor">gmd:code</name>
    -->
    <exclude>
      <name>gmd:identifier</name>
      <name>gmd:metadataStandardName</name>
      <name>gmd:metadataStandardVersion</name>
      <name>gmd:hierarchyLevelName</name>
      <name>gmd:dataSetURI</name>
      <name>gmd:postalCode</name>
      <name>gmd:city</name>
      <name>gmd:language</name>
      <name>gmd:administrativeArea</name>
      <name>gmd:voice</name>
      <name>gmd:facsimile</name>
      <name>gmd:dataset</name>
      <name>gmd:other</name>
      <name>gmd:hoursOfService</name>
      <name>gmd:applicationProfile</name>
      <name>gmd:page</name>
      <name>gmd:date</name>
      <name>gmd:linkage</name>
      <name>gmd:fileName</name>
      <name>gmd:protocol</name>
      <name>gmd:fileType</name>
      <name>gmd:unitsOfDistribution</name>
      <name>gmd:amendmentNumber</name>
      <name>gmd:specification</name>
      <name>gmd:fileDecompressionTechnique</name>
      <name>gmd:turnaround</name>
      <name>gmd:fees</name>
      <name>gmd:userDeterminedLimitations</name>
      <name>gmd:codeSpace</name>
      <name>gmd:version</name>
      <name>gmd:edition</name>
      <name>gmd:ISBN</name>
      <name>gmd:ISSN</name>
      <name>gmd:errorStatistic</name>
      <name>gmd:schemaAscii</name>
      <name>gmd:softwareDevelopmentFileFormat</name>
      <name>gmd:shortName</name>
      <name>gmd:condition</name>
      <name>gmd:maximumOccurence</name>
      <name>gmd:domainValue</name>
      <name>gmd:densityUnits</name>
      <name>gmd:descriptor</name>
      <name>gmd:denominator</name>
      <name>gmd:classificationSystem</name>
      <name>gmd:checkPointDescription</name>
      <name>gmd:transformationDimensionDescription</name>
      <name>gmd:orientationParameterDescription</name>
      <name>gmd:distance</name>
      <name>srv:name</name>
      <name>srv:invocationName</name>
      <name>srv:serviceTypeVersion</name>
      <name>srv:operationName</name>
      <name>srv:identifier</name>
    </exclude>
  </multilingualFields>


  <!-- View configuration -->
  <views>
    <view name="inspire" upAndDownControlHidden="true">
      <tab id="inspire" default="true" mode="flat">
          
        <!-- AZO section -->
        <section name="HAOP">
            <field name="jedinstveniOznacivacIzvora"
                templateModeOnly="true" 
                xpath="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation/gmd:extendedElementInformation[gmd:MD_ExtendedElementInformation/gmd:name/gco:CharacterString='JedinstveniOznacivacIzvora']"
            >
                <template>
                  <values>
                    <key label="value" xpath="gmd:MD_ExtendedElementInformation/gmd:domainValue/gco:CharacterString" tooltip="gmd:linkage"/>
                  </values>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>JedinstveniOznacivacIzvora</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString>{{value}}</gco:CharacterString>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </field>
            
            <field name="akronim"
                templateModeOnly="true" 
                xpath="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation/gmd:extendedElementInformation[gmd:MD_ExtendedElementInformation/gmd:name/gco:CharacterString='Akronim']"
            >
                <template>
                  <values>
                    <key label="value" xpath="gmd:MD_ExtendedElementInformation/gmd:domainValue/gco:CharacterString" tooltip="gmd:linkage"/>
                  </values>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>Akronim</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString>{{value}}</gco:CharacterString>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </field>
            
            <field name="tematskoPodrucje"
                templateModeOnly="true" 
                xpath="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation/gmd:extendedElementInformation[gmd:MD_ExtendedElementInformation/gmd:name/gco:CharacterString='TematskoPodrucje']"
            >
                <template>
                  <values>
                    <key label="value" xpath="gmd:MD_ExtendedElementInformation/gmd:domainValue/gco:CharacterString" tooltip="gmd:linkage">
                        <codelist name="AZOPodrucje"/>
                    </key>
                  </values>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>TematskoPodrucje</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString>{{value}}</gco:CharacterString>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </field>
            
            <field name="tematskoPodpodrucje"
                templateModeOnly="true" 
                xpath="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation/gmd:extendedElementInformation[gmd:MD_ExtendedElementInformation/gmd:name/gco:CharacterString='TematskoPodpodrucje']"
            >
                <template>
                  <values>
                    <key label="value" xpath="gmd:MD_ExtendedElementInformation/gmd:domainValue/gco:CharacterString" tooltip="gmd:linkage">
                        <codelist name="AZOPodpodrucje"/>
                    </key>
                  </values>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>TematskoPodpodrucje</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString>{{value}}</gco:CharacterString>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </field>
            
            <field name="korisniciPodataka"
                templateModeOnly="true" 
                xpath="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation/gmd:extendedElementInformation[gmd:MD_ExtendedElementInformation/gmd:name/gco:CharacterString='KorisniciPodataka']"
                del="."
            >
                <template>
                  <values>
                    <key label="value" xpath="gmd:MD_ExtendedElementInformation/gmd:domainValue/gco:CharacterString" tooltip="gmd:linkage"/>
                  </values>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>KorisniciPodataka</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString>{{value}}</gco:CharacterString>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </field>
            <action type="add" name="korisniciPodataka"
                    in="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation"
                    or="extendedElementInformation" forceLabel="true"
            >
                <template>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>KorisniciPodataka</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString/>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </action>

            <field name="nazivIzvjestaja"
                templateModeOnly="true" 
                xpath="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation/gmd:extendedElementInformation[gmd:MD_ExtendedElementInformation/gmd:name/gco:CharacterString='NazivIzvjestaja']"
                or="nazivIzvjestaja"
                in="/gmd:MD_Metadata/gmd:MD_MetadataExtensionInformation"
                del="."
            >
                <template>
                  <values>
                    <key label="value" xpath="gmd:MD_ExtendedElementInformation/gmd:domainValue/gco:CharacterString" tooltip="gmd:linkage"/>
                  </values>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>NazivIzvjestaja</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString>{{value}}</gco:CharacterString>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </field>
            <action type="add" name="nazivIzvjestaja"
                    in="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation"
                    or="extendedElementInformation" forceLabel="true"
            >
                <template>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>NazivIzvjestaja</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString/>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </action>
            
            <field name="tijeloZaDostavuPodatakaIzvjesca"
                templateModeOnly="true" 
                xpath="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation/gmd:extendedElementInformation[gmd:MD_ExtendedElementInformation/gmd:name/gco:CharacterString='TijeloZaDostavuPodatakaIzvjesca']"
                or="tijeloZaDostavuPodatakaIzvjesca"
                in="/gmd:MD_Metadata/gmd:MD_MetadataExtensionInformation"
                del="."
            >
                <template>
                  <values>
                    <key label="value" xpath="gmd:MD_ExtendedElementInformation/gmd:domainValue/gco:CharacterString" tooltip="gmd:linkage"/>
                  </values>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>TijeloZaDostavuPodatakaIzvjesca</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString>{{value}}</gco:CharacterString>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </field>
            <action type="add" name="tijeloZaDostavuPodatakaIzvjesca"
                    in="/gmd:MD_Metadata/gmd:metadataExtensionInfo/gmd:MD_MetadataExtensionInformation"
                    or="extendedElementInformation" forceLabel="true"
            >
                <template>
                  <snippet>
                    <gmd:extendedElementInformation>
                        <gmd:MD_ExtendedElementInformation>
                            <gmd:name>
                                   <gco:CharacterString>TijeloZaDostavuPodatakaIzvjesca</gco:CharacterString>
                            </gmd:name>
                            <gmd:definition gco:nilReason="inapplicable"/>
                            <gmd:dataType gco:nilReason="inapplicable"/>
                            <gmd:domainValue>
                              <gco:CharacterString/>
                            </gmd:domainValue>
                            <gmd:parentEntity gco:nilReason="inapplicable"/>
                            <gmd:rule gco:nilReason="inapplicable"/>
                            <gmd:source gco:nilReason="inapplicable"/>
                        </gmd:MD_ExtendedElementInformation>
                    </gmd:extendedElementInformation>
                  </snippet>
                </template>                
            </action>
        </section>
        
        <section name="resource">
            
          <!-- title -->
          <field
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:citation/gmd:CI_Citation/gmd:title"            
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          />
           <field
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:citation/gmd:CI_Citation/gmd:title"            
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
          />
          
          <!-- Alternate title -->
          <field name="altTitle"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:citation/gmd:CI_Citation/gmd:alternateTitle"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            del="."
            templateModeOnly="true"
          >
            <template>
              <values>
                <key label="altTitle" xpath="gco:CharacterString" tooltip="gmd:alternateTitle"/>
              </values>
                <snippet>
                    <gmd:alternateTitle>
                        <gco:CharacterString>{{altTitle}}</gco:CharacterString>
                    </gmd:alternateTitle>
                </snippet>
            </template>
          </field>
            <action type="add" name="altTitle" or="alternateTitle" forceLabel="true"
                    if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
                    in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:citation/gmd:CI_Citation">
                <template>
                    <snippet>
                        <gmd:alternateTitle>
                            <gco:CharacterString/>
                        </gmd:alternateTitle>
                    </snippet>
                </template>
            </action>
          <field name="altTitle"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:citation/gmd:CI_Citation/gmd:alternateTitle"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            del="."           
            templateModeOnly="true"
          >
            <template>
              <values>
                <key label="altTitle" xpath="gco:CharacterString" tooltip="gmd:alternateTitle"/>
              </values>
                <snippet>
                    <gmd:alternateTitle>
                        <gco:CharacterString>{{altTitle}}</gco:CharacterString>
                    </gmd:alternateTitle>
                </snippet>
            </template>
          </field>
            <action type="add" name="altTitle" or="alternateTitle" forceLabel="true"
                    if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
                    in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:citation/gmd:CI_Citation">
                <template>
                    <snippet>
                        <gmd:alternateTitle>
                            <gco:CharacterString/>
                        </gmd:alternateTitle>
                    </snippet>
                </template>
            </action>

          <!-- Abstract-->
          <field xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:abstract"
          if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"                
          />
          <field xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:abstract"
          if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"            
          />
           <!-- Metadata type-->
          <field xpath="/gmd:MD_Metadata/gmd:hierarchyLevel"/>
 
          <!-- Resource identifier for dataset and add action to compute it if not defined. -->          
          <!-- Jedinstvena oznaka izvora -->
          <field name="identifier" templateModeOnly="true"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:citation/gmd:CI_Citation/gmd:identifier[gmd:RS_Identifier]"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            del="."            
            >
            <template>
              <values>
                <key label="code" xpath="gmd:RS_Identifier/gmd:code/gco:CharacterString" tooltip="gmd:code|gmd:RS_Identifier"/>
                <key label="codeSpace" xpath="gmd:RS_Identifier/gmd:codeSpace/gco:CharacterString" tooltip="gmd:codeSpace|gmd:RS_Identifier"/>
                <key label="version" xpath="gmd:RS_Identifier/gmd:version/gco:CharacterString" tooltip="gmd:version|gmd:RS_Identifier"/>
              </values>
              <snippet>
                <gmd:identifier>
                  <gmd:RS_Identifier>
                    <gmd:code>
                      <gco:CharacterString>{{code}}</gco:CharacterString>
                    </gmd:code>
                    <gmd:codeSpace>
                      <gco:CharacterString>{{codeSpace}}</gco:CharacterString>
                    </gmd:codeSpace>
                    <gmd:version>
                      <gco:CharacterString>{{version}}</gco:CharacterString>
                    </gmd:version>
                  </gmd:RS_Identifier>
                </gmd:identifier>
              </snippet>
            </template>
          </field>
           <action type="add" name="identifier" forceLabel="true"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            or="identifier" in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:citation/gmd:CI_Citation">
            <template>
              <snippet>
                <gmd:identifier>
                    <gmd:RS_Identifier>
                      <gmd:code>
                        <gco:CharacterString/>
                      </gmd:code>
                      <gmd:codeSpace>
                        <gco:CharacterString>hr:nipp:crs</gco:CharacterString>
                      </gmd:codeSpace>
                      <gmd:version>
                        <gco:CharacterString>1.0</gco:CharacterString>
                      </gmd:version>
                   </gmd:RS_Identifier>
                </gmd:identifier>
              </snippet>
            </template>
          </action>
         
          <!-- Koordinatni referentni sustav -->
          <field name="rsIdentifier" templateModeOnly="true" 
            xpath="/gmd:MD_Metadata/gmd:referenceSystemInfo/gmd:MD_ReferenceSystem/gmd:referenceSystemIdentifier"
            del="../..">
            <template>
              <values>
                <key label="code" xpath="gmd:RS_Identifier/gmd:code/gco:CharacterString" tooltip="gmd:code|gmd:RS_Identifier">
                    <helper name="gmd:code" context="gmd:RS_Identifier"/>
                </key>
                <key label="codeSpace" xpath="gmd:RS_Identifier/gmd:codeSpace/gco:CharacterString" tooltip="gmd:codeSpace|gmd:RS_Identifier"/>
                <key label="version" xpath="gmd:RS_Identifier/gmd:version/gco:CharacterString" tooltip="gmd:version|gmd:RS_Identifier"/>
              </values>
              <snippet>
                <gmd:referenceSystemIdentifier>
                  <gmd:RS_Identifier>
                    <gmd:code>
                      <gco:CharacterString>{{code}}</gco:CharacterString>
                    </gmd:code>
                    <gmd:codeSpace>
                      <gco:CharacterString>{{codeSpace}}</gco:CharacterString>
                    </gmd:codeSpace>
                    <gmd:version>
                      <gco:CharacterString>{{version}}</gco:CharacterString>
                    </gmd:version>
                  </gmd:RS_Identifier>
                </gmd:referenceSystemIdentifier>
              </snippet>
            </template>
          </field>
        <action type="add" name="rsIdentifier" addDirective="data-gn-crs-selector" forceLabel="true"
          or="referenceSystemInfo" in="/gmd:MD_Metadata">
          <template>
            <snippet>
              <gmd:referenceSystemInfo>
                <gmd:MD_ReferenceSystem>
                  <gmd:referenceSystemIdentifier>
                    <gmd:RS_Identifier>
                      <gmd:code>
                        <gco:CharacterString/>
                      </gmd:code>
                      <gmd:codeSpace>
                        <gco:CharacterString>hr:nipp:crs</gco:CharacterString>
                      </gmd:codeSpace>
                      <gmd:version>
                        <gco:CharacterString>1.0</gco:CharacterString>
                      </gmd:version>
                   </gmd:RS_Identifier>
                  </gmd:referenceSystemIdentifier>
                </gmd:MD_ReferenceSystem>
              </gmd:referenceSystemInfo>
            </snippet>
          </template>
        </action>

          <!-- Data format -->
          <field name="format" templateModeOnly="true" 
            xpath="/gmd:MD_Metadata/gmd:distributionInfo/gmd:MD_Distribution/gmd:distributionFormat"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            del="."
            >
            <template>
              <values>
                <key label="format"
                     xpath="gmd:MD_Format/gmd:name/gco:CharacterString"
                     tooltip="gmd:name|gmd:MD_Format">
                  <helper name="gmd:name" context="gmd:MD_Format"/>
                </key>
                <key label="format_version" xpath="gmd:MD_Format/gmd:version/gco:CharacterString"/>
              </values>
              <snippet>
                <gmd:distributionFormat>
                  <gmd:MD_Format>
                    <gmd:name>
                      <gco:CharacterString>{{format}}</gco:CharacterString>
                    </gmd:name>
                    <gmd:version>
                      <gco:CharacterString>{{format_version}}</gco:CharacterString>
                    </gmd:version>
                    <gn:copy select="gmd:amendmentNumber"/>
                    <gn:copy select="gmd:specification"/>
                    <gn:copy select="gmd:fileDecompressionTechnique"/>
                    <gn:copy select="gmd:formatDistributor"/>
                  </gmd:MD_Format>
                </gmd:distributionFormat>
              </snippet>
            </template>
          </field>
          <action type="add" name="format" or="distributionFormat" forceLabel="true"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            in="/gmd:MD_Metadata/gmd:distributionInfo/gmd:MD_Distribution">
            <template>
              <snippet>
                <gmd:distributionFormat>
                  <gmd:MD_Format>
                    <gmd:name>
                      <gco:CharacterString>GML</gco:CharacterString>
                    </gmd:name>
                    <gmd:version>
                      <gco:CharacterString>3.2.1</gco:CharacterString>
                    </gmd:version>
                  </gmd:MD_Format>
                </gmd:distributionFormat>
              </snippet>
            </template>
          </action>

          <!-- Operates on-->
          <field name="operatesOn" templateModeOnly="true"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/srv:operatesOn"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            del="."            
          >
              <template>
                  <values>
                      <key label="operatesOn" xpath="@xlink:href" tooltip="srv:operatesOn"/>                      
                  </values>
                    <snippet>
                        <srv:operatesOn xlink:href="{{operatesOn}}"/>
                  </snippet>
              </template>
          </field>
            <action type="add" name="operatesOn" or="operatesOn" forceLabel="true"
                    in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification"
                    if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            >
                <template>
                    <snippet>
                        <srv:operatesOn xlink:href=""/>
                    </snippet>
                </template>
            </action>
          
          <!-- Jezik izvora-->
          <field name="langSource"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:language"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            del="."
             templateModeOnly="true"
          >
            <template>
                <values>
                    <key label="langSource" xpath="@codeListValue" tooltip="gmd:language">
                        <helper name="gmd:language" context="gmd:MD_DataIdentification"/>
                    </key>                      
                </values>
                <snippet>
                    <gmd:language>
                        <gmd:LanguageCode codeList="http://www.loc.gov/standards/iso639-2/" codeListValue="{{langSource}}"/>
                    </gmd:language>
                </snippet>
            </template>              
          </field>
            <action type="add" name="langSource" or="language" forceLabel="true"
                    in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification"
                    if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            >
                <template>
                    <snippet>
                        <gmd:language>
                            <gmd:LanguageCode codeList="http://www.loc.gov/standards/iso639-2/" codeListValue="hrv"/>
                        </gmd:language>
                    </snippet>
                </template>
            </action>
        </section>
        
        <!-- Category -->
        <section name="category">
          <field name="serviceType"  templateModeOnly="true" 
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/srv:serviceType"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
          >
            <template>
                <values>
                  <key label="serviceType" xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/srv:serviceType/gco:LocalName" tooltip="srv:serviceType">
                    <codelist name="serviceType"/>
                  </key>
                </values>
                <snippet>
                    <srv:serviceType>
                        <gco:LocalName>{{serviceType}}</gco:LocalName>
                    </srv:serviceType>
                </snippet>
            </template>
          </field>
          <field name="dataType" templateModeOnly="true" 
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:topicCategory"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            del="."
          >
            <template>
                <values>
                  <key label="dataType" xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:topicCategory/gmd:MD_TopicCategoryCode" tooltip="gmd:topicCategory">
                    <codelist name="gmd:MD_TopicCategoryCode"/>
                  </key>
                </values>
                <snippet>
                    <gmd:topicCategory>
                       <gmd:MD_TopicCategoryCode>{{dataType}}</gmd:MD_TopicCategoryCode>
                   </gmd:topicCategory>
                </snippet>
            </template>
          </field>
            <action type="add" name="dataType" or="topicCategory" forceLabel="true"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification">
            <template>
                <snippet>
                    <gmd:topicCategory>
                        <gmd:MD_TopicCategoryCode>{{dataType}}</gmd:MD_TopicCategoryCode>
                    </gmd:topicCategory>
                </snippet>
            </template>
            </action>
        </section>
        
        <!-- Ključne riječi -->
        <section name="keywords">
            <!-- INSPIRE SERVICE type keyword-->
          <field name="keywords"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/
            gmd:descriptiveKeywords
            [gmd:MD_Keywords/gmd:thesaurusName/gmd:CI_Citation/gmd:title/gco:CharacterString = 'INSPIRE Service taxonomy']"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0">
          </field>
          <!-- FIXME: MUST be provided in template and thesaurus available in the catalog, to be displayed properly -->

          <!-- INSPIRE SERVICE keyword-->
          <field name="keywords"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/
            gmd:descriptiveKeywords/gmd:MD_Keywords[not(gmd:thesaurusName)]/gmd:keyword"
            or="keyword"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/
            gmd:descriptiveKeywords/gmd:MD_Keywords[gmd:type/gmd:MD_KeywordTypeCode/@codeListValue='theme'
            and not(gmd:thesaurusName)]"
          />
           <action type="add" name="addKeyword" or="keyword" forceLabel="true"
           in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:descriptiveKeywords/gmd:MD_Keywords"
           if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
           >
            <template>
                <snippet>
                    <gmd:keyword>
                        <gco:CharacterString/>
                    </gmd:keyword>
                </snippet>
            </template>
            </action>

            <!-- INSPIRE DATA keyword-->
          <field name="keywords"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/
            gmd:descriptiveKeywords/gmd:MD_Keywords/gmd:keyword[not(../gmd:thesaurusName)]"
            or="keyword"
            in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/
            gmd:descriptiveKeywords/gmd:MD_Keywords[not(gmd:thesaurusName)]"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          />
           <action type="add" name="addKeyword" or="keyword" forceLabel="true"
            in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:descriptiveKeywords/gmd:MD_Keywords"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
           >
            <template>
                <snippet>
                    <gmd:keyword>
                        <gco:CharacterString/>
                    </gmd:keyword>
                </snippet>
            </template>
            </action>

            <!-- INSPIRE DATA type keyword-->
          <!-- INSPIRE Themes -->
          <field name="keywords"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/*/
            gmd:descriptiveKeywords
            [contains(gmd:MD_Keywords/gmd:thesaurusName/gmd:CI_Citation/gmd:title/gco:CharacterString, 'INSPIRE themes')]"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          />
          <!-- FIXME: MUST be provided in template and thesaurus available in the catalog, to be displayed properly -->
          <action type="add"
                  name="inspireTheme"
                  or="descriptiveKeywords"
                  in="/gmd:MD_Metadata/gmd:identificationInfo/*"
                  if="count(gmd:MD_Metadata/gmd:identificationInfo/*/
                        gmd:descriptiveKeywords[
                          contains(gmd:MD_Keywords/gmd:thesaurusName/
                                      gmd:CI_Citation/gmd:title/gco:CharacterString,
                                   'INSPIRE themes')]) = 0">
            <template>
              <snippet>
                <gmd:descriptiveKeywords>
                  <gmd:MD_Keywords>
                    <gmd:keyword>
                      <gco:CharacterString/>
                    </gmd:keyword>
                    <gmd:type>
                      <gmd:MD_KeywordTypeCode codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_KeywordTypeCode"
                                              codeListValue="theme"/>
                    </gmd:type>
                    <gmd:thesaurusName>
                      <gmd:CI_Citation>
                        <gmd:title>
                          <gco:CharacterString>GEMET - INSPIRE themes, version 1.0</gco:CharacterString>
                        </gmd:title>
                        <gmd:date>
                          <gmd:CI_Date>
                            <gmd:date>
                              <gco:Date>2008-06-01</gco:Date>
                            </gmd:date>
                            <gmd:dateType>
                              <gmd:CI_DateTypeCode codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_DateTypeCode"
                                                   codeListValue="publication"/>
                            </gmd:dateType>
                          </gmd:CI_Date>
                        </gmd:date>
                        <gmd:identifier>
                          <gmd:MD_Identifier>
                            <gmd:code>
                              <gmx:Anchor xlink:href="http://localhost:8080/geonetwork/srv/eng/thesaurus.download?ref=external.theme.inspire-theme">geonetwork.thesaurus.external.theme.inspire-theme</gmx:Anchor>
                            </gmd:code>
                          </gmd:MD_Identifier>
                        </gmd:identifier>
                      </gmd:CI_Citation>
                    </gmd:thesaurusName>
                  </gmd:MD_Keywords>
                </gmd:descriptiveKeywords>
              </snippet>
            </template>
          </action>
        </section>
        
          <section name="bboxesSection">
            <field 
              xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/
              gmd:extent/gmd:EX_Extent/gmd:geographicElement/gmd:EX_GeographicBoundingBox"
              if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            />
<!--            <action type="add" name="extent" or="extent"
              if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
              in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification">
              <template>
                <snippet>
                  <gmd:extent>
                    <gmd:EX_Extent>
                      <gmd:geographicElement>
                        <gmd:EX_GeographicBoundingBox>
                          <gmd:westBoundLongitude>
                            <gco:Decimal/>
                          </gmd:westBoundLongitude>
                          <gmd:eastBoundLongitude>
                            <gco:Decimal/>
                          </gmd:eastBoundLongitude>
                          <gmd:southBoundLatitude>
                            <gco:Decimal/>
                          </gmd:southBoundLatitude>
                          <gmd:northBoundLatitude>
                            <gco:Decimal/>
                          </gmd:northBoundLatitude>
                        </gmd:EX_GeographicBoundingBox>
                      </gmd:geographicElement>
                    </gmd:EX_Extent>
                  </gmd:extent>
                </snippet>
              </template>
            </action>-->
            
            <field
              xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/
              srv:extent/gmd:EX_Extent/gmd:geographicElement/gmd:EX_GeographicBoundingBox"
              if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            />
<!--            <action type="add" name="extent" or="extent"
                if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
              in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification">
              <template>
                <snippet>
                  <srv:extent>
                    <gmd:EX_Extent>
                      <gmd:geographicElement>
                        <gmd:EX_GeographicBoundingBox>
                          <gmd:westBoundLongitude>
                            <gco:Decimal/>
                          </gmd:westBoundLongitude>
                          <gmd:eastBoundLongitude>
                            <gco:Decimal/>
                          </gmd:eastBoundLongitude>
                          <gmd:southBoundLatitude>
                            <gco:Decimal/>
                          </gmd:southBoundLatitude>
                          <gmd:northBoundLatitude>
                            <gco:Decimal/>
                          </gmd:northBoundLatitude>
                        </gmd:EX_GeographicBoundingBox>
                      </gmd:geographicElement>
                    </gmd:EX_Extent>
                  </srv:extent>
                </snippet>
              </template>
            </action>-->
        </section>
        
        <!-- Vremenska poveznica-->
        <section name="referenceDate">
          <!-- Pojedinačni datum -->
          <field xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:citation/gmd:CI_Citation/
            gmd:date"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          />
            <action type="add" name="referenceDate" or="date"
                    in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:citation/gmd:CI_Citation"
                    if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)">
                <template>
                  <snippet>
                    <gmd:date>
                      <gmd:CI_Date>
                        <gmd:date>
                          <gco:Date/>
                        </gmd:date>
                        <gmd:dateType>
                          <gmd:CI_DateTypeCode
                                  codeList="http://www.isotc211.org/2005/resources/codeList.xml#CI_DateTypeCode"
                                  codeListValue="revision"/>
                        </gmd:dateType>
                      </gmd:CI_Date>
                    </gmd:date>
                  </snippet>
                </template>
              </action>
          <field xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:citation/gmd:CI_Citation/
            gmd:date"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
          />
            <action type="add" name="referenceDate" or="date"
                    in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:citation/gmd:CI_Citation"
                    if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            >
                <template>
                  <snippet>
                    <gmd:date>
                      <gmd:CI_Date>
                        <gmd:date>
                          <gco:Date/>
                        </gmd:date>
                        <gmd:dateType>
                          <gmd:CI_DateTypeCode
                                  codeList="http://www.isotc211.org/2005/resources/codeList.xml#CI_DateTypeCode"
                                  codeListValue="revision"/>
                        </gmd:dateType>
                      </gmd:CI_Date>
                    </gmd:date>
                  </snippet>
                </template>
              </action>

            <!-- Raspon -->
            <field name="temporalRangeSection" templateModeOnly="true" 
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:extent/gmd:EX_Extent/gmd:temporalElement"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            >
            <template>
              <values>
                <!-- -Need a * for gml:TimePeriodTypeCHOICE_ELEMENT2 added by editor enumerated tree -->
                <key label="beginPosition"
                  xpath="gmd:EX_TemporalExtent/gmd:extent/gml:TimePeriod/*/gml:beginPosition"
                  use="gn-date-picker"
                  tooltip="gmd:extent|gmd:EX_TemporalExtent">
                  <directiveAttributes data-tag-name="gml:beginPosition"/>
                </key>
                <key label="endPosition"
                  xpath="gmd:EX_TemporalExtent/gmd:extent/gml:TimePeriod/*/gml:endPosition"
                  use="gn-date-picker"
                  tooltip="gmd:extent|gmd:EX_TemporalExtent"
                >
                  <directiveAttributes
                      data-tag-name="gml:endPosition"
                      data-indeterminate-position="eval#gmd:EX_TemporalExtent/gmd:extent/gml:TimePeriod/*/gml:endPosition/@indeterminatePosition"/>
                </key>
              </values>
              <snippet>
                <gmd:temporalElement>
                  <gmd:EX_TemporalExtent>
                    <gmd:extent>
                      <gml:TimePeriod gml:id="">
                        {{beginPosition}}
                        {{endPosition}}
                      </gml:TimePeriod>
                    </gmd:extent>
                  </gmd:EX_TemporalExtent>
                </gmd:temporalElement>
              </snippet>
            </template>
          </field>

          <field name="temporalRangeSection" templateModeOnly="true" 
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:extent/gmd:EX_Extent/gmd:temporalElement"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
          >
            <template>
              <values>
                <key label="beginPosition"
                     xpath="gmd:EX_TemporalExtent/gmd:extent/gml:TimePeriod/*/gml:beginPosition"
                     use="gn-date-picker"
                     tooltip="gmd:extent|gmd:EX_TemporalExtent"/>
                <key label="endPosition"
                     xpath="gmd:EX_TemporalExtent/gmd:extent/gml:TimePeriod/*/gml:endPosition"
                     use="gn-date-picker"
                     tooltip="gmd:extent|gmd:EX_TemporalExtent"
                    />
                <key label="indeterminatePosition"
                     xpath="gmd:EX_TemporalExtent/gmd:extent/gml:TimePeriod/*/gml:endPosition/@indeterminatePosition"
                     use="codelist"/>
              </values>
              <snippet>
                <gmd:temporalElement>
                  <gmd:EX_TemporalExtent>
                    <gmd:extent>
                      <gml:TimePeriod gml:id="">
                        <gml:beginPosition>{{beginPosition}}</gml:beginPosition>
                        <gml:endPosition indeterminatePosition="{{indeterminatePosition}}">{{endPosition}}</gml:endPosition>
                      </gml:TimePeriod>
                    </gmd:extent>
                  </gmd:EX_TemporalExtent>
                </gmd:temporalElement>
              </snippet>
            </template>
          </field>
          
          <!-- Azuriranje -->
          <field name="metadataMaintenanceFreq"  templateModeOnly="true"
          if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:resourceMaintenance/gmd:MD_MaintenanceInformation/gmd:maintenanceAndUpdateFrequency">
              <template>
                  <values>
                      <key label="frequency" xpath="MD_MaintenanceFrequencyCode/@codeListValue" tooltip="gmd:maintenanceAndUpdateFrequency">
                        <codelist name="gmd:MD_MaintenanceFrequencyCode"/>
                      </key>
                  </values>
                  <snippet>
                     <gmd:maintenanceAndUpdateFrequency>
                         <MD_MaintenanceFrequencyCode
                             xmlns="http://www.isotc211.org/2005/gmd"
                             codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/Codelist/ML_gmxCodelists.xml#MD_MaintenanceFrequencyCode"
                             codeListValue="{{frequency}}"/>
                     </gmd:maintenanceAndUpdateFrequency>                      
                  </snippet>
              </template>
          </field>
          
          <field name="metadataMaintenanceNote"
          if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:resourceMaintenance/gmd:MD_MaintenanceInformation/gmd:maintenanceNote"/>
        </section>
        
        <section name="dataQualityInfo">
            
          <!-- Kvaliteta -->
          <field name="lineage" 
            xpath="/gmd:MD_Metadata/gmd:dataQualityInfo/gmd:DQ_DataQuality/gmd:lineage/gmd:LI_Lineage/gmd:statement"
            if="count(/gmd:MD_Metadata/gmd:identificationInfo/MD_DataIdentification)>0"
          />
          
          <!-- Prostorna rezolucija -->
          <!-- Podaci -->
          <field 
              xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:spatialResolution[gmd:MD_Resolution/gmd:equivalentScale]"
              if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          />
          <action type="add"
                  name="spatialResolution"
                  if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
                  forceLabel="true"
                  or="spatialResolution"
                  in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification">
            <template>
              <snippet>
                <gmd:spatialResolution>
                  <gmd:MD_Resolution>
                    <gmd:equivalentScale>
                      <gmd:MD_RepresentativeFraction>
                        <gmd:denominator>
                          <gco:Integer/>
                        </gmd:denominator>
                      </gmd:MD_RepresentativeFraction>
                    </gmd:equivalentScale>
                  </gmd:MD_Resolution>
                </gmd:spatialResolution>
              </snippet>
            </template>
          </action>

          <field 
              xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:spatialResolution[gmd:MD_Resolution/gmd:distance]"
              if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          />
          <action type="add"
                  name="spatialDistance"
                  forceLabel="true"
                  or="spatialResolution" in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification"
                  if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
          >
            <template>
              <snippet>
                <gmd:spatialResolution>
                  <gmd:MD_Resolution>
                    <gmd:distance>
                      <gco:Distance uom="m"/>
                    </gmd:distance>
                  </gmd:MD_Resolution>
                </gmd:spatialResolution>
              </snippet>
            </template>
          </action>
          
          <!-- Usluge -->
          <field 
              xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:spatialResolution[gmd:MD_Resolution/gmd:equivalentScale]"
              if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
          />
          <action type="add"
                  name="spatialResolution"
                  forceLabel="true"
                  if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
                  or="spatialResolution"
                  in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification">
            <template>
              <snippet>
                <gmd:spatialResolution>
                  <gmd:MD_Resolution>
                    <gmd:equivalentScale>
                      <gmd:MD_RepresentativeFraction>
                        <gmd:denominator>
                          <gco:Integer/>
                        </gmd:denominator>
                      </gmd:MD_RepresentativeFraction>
                    </gmd:equivalentScale>
                  </gmd:MD_Resolution>
                </gmd:spatialResolution>
              </snippet>
            </template>
          </action>

          <field 
              xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:spatialResolution[gmd:MD_Resolution/gmd:distance]"
              if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
          />
          <action type="add"
                  name="spatialDistance"
                  forceLabel="true"
                  or="spatialResolution" in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification"
                  if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
          >
            <template>
              <snippet>
                <gmd:spatialResolution>
                  <gmd:MD_Resolution>
                    <gmd:distance>
                      <gco:Distance uom="m"/>
                    </gmd:distance>
                  </gmd:MD_Resolution>
                </gmd:spatialResolution>
              </snippet>
            </template>
          </action>            
        </section>
        
        <!-- Usklađenost -->
        <section name="conformity">
          <field name="conformity" templateModeOnly="true" 
                 xpath="/gmd:MD_Metadata/gmd:dataQualityInfo/gmd:DQ_DataQuality/
                    gmd:report/gmd:DQ_DomainConsistency/gmd:result"
                 del="../..">
            <template>
              <values>
                <key label="conformity_title"
                     xpath="gmd:DQ_ConformanceResult/
                          gmd:specification/gmd:CI_Citation/gmd:title/gco:CharacterString"
                     tooltip="gmd:pass">
                  <helper name="gmd:title" context="/gmd:MD_Metadata/gmd:dataQualityInfo/gmd:DQ_DataQuality/gmd:report/gmd:DQ_DomainConsistency/gmd:result/gmd:DQ_ConformanceResult/gmd:specification/gmd:CI_Citation/gmd:title"/>
                </key>
                <key label="conformity_date"
                     xpath="gmd:DQ_ConformanceResult/
                          gmd:specification/gmd:CI_Citation/gmd:date/gmd:CI_Date/gmd:date/gco:Date"
                     use="date"/>
                <key label="explanation"
                     xpath="gmd:DQ_ConformanceResult/
                          gmd:explanation/gco:CharacterString"
                     use="textarea"/>
                <key label="pass"
                     xpath="gmd:DQ_ConformanceResult/gmd:pass/gco:Boolean"
                     use="gn-checkbox-with-nilreason">
                  <directiveAttributes
                          data-tag-name="gmd:pass"
                          data-nilreason="eval#gmd:DQ_ConformanceResult/gmd:pass/@gco:nilReason"
                          data-labels='{"true": "conformant", "false": "notConformant", "unknown": "notEvaluated"}'/>
                </key>
              </values>
              <snippet>
                <gmd:result>
                  <gmd:DQ_ConformanceResult>
                    <gmd:specification>
                      <gmd:CI_Citation>
                        <gmd:title>
                          <gco:CharacterString>{{conformity_title}}</gco:CharacterString>
                        </gmd:title>
                        <gn:copy select="gmd:alternateTitle"/>
                        <gmd:date>
                          <gmd:CI_Date>
                            <gmd:date>
                              <gco:Date>{{conformity_date}}</gco:Date>
                            </gmd:date>
                            <gmd:dateType>
                              <gmd:CI_DateTypeCode
                                      codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_DateTypeCode"
                                      codeListValue="publication"/>
                            </gmd:dateType>
                          </gmd:CI_Date>
                        </gmd:date>
                        <gn:copy select="gmd:edition"/>
                        <gn:copy select="gmd:editionDate"/>
                        <gn:copy select="gmd:identifier"/>
                        <gn:copy select="gmd:citedResponsibleParty"/>
                        <gn:copy select="gmd:presentationForm"/>
                        <gn:copy select="gmd:series"/>
                        <gn:copy select="gmd:otherCitationDetails"/>
                        <gn:copy select="gmd:collectiveTitle"/>
                        <gn:copy select="gmd:ISBN"/>
                        <gn:copy select="gmd:ISSN"/>
                      </gmd:CI_Citation>
                    </gmd:specification>
                    <gmd:explanation>
                      <gco:CharacterString>{{explanation}}</gco:CharacterString>
                    </gmd:explanation>
                    {{pass}}
                  </gmd:DQ_ConformanceResult>
                </gmd:result>
              </snippet>
            </template>
          </field>

          <action type="add" name="conformity" or="report"
                  forceLabel="true"
                  in="/gmd:MD_Metadata/gmd:dataQualityInfo/gmd:DQ_DataQuality">
            <template>
              <snippet>
                <gmd:report>
                  <gmd:DQ_DomainConsistency>
                    <gmd:result>
                      <gmd:DQ_ConformanceResult>
                        <gmd:specification>
                          <gmd:CI_Citation>
                            <gmd:title>
                              <gco:CharacterString/>
                            </gmd:title>
                            <gmd:date>
                              <gmd:CI_Date>
                                <gmd:date>
                                  <gco:Date/>
                                </gmd:date>
                                <gmd:dateType>
                                  <gmd:CI_DateTypeCode
                                          codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_DateTypeCode"
                                          codeListValue="publication"/>
                                </gmd:dateType>
                              </gmd:CI_Date>
                            </gmd:date>
                          </gmd:CI_Citation>
                        </gmd:specification>
                        <gmd:explanation>
                          <gco:CharacterString/>
                        </gmd:explanation>
                        <gmd:pass gco:nilReason="unknown">
                          <gco:Boolean/>
                        </gmd:pass>
                      </gmd:DQ_ConformanceResult>
                    </gmd:result>
                  </gmd:DQ_DomainConsistency>
                </gmd:report>
              </snippet>
            </template>
          </action>           
        </section>
        
        <section name="useLimitation">
          <!-- Use constraints -->
          <field
              name="useLimitation" templateModeOnly="true" 
              xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:resourceConstraints[gmd:MD_Constraints/gmd:useLimitation]"
              if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
              del="."
          >
            <template>
                <values>
                    <key label="useLimitation" xpath="gmd:MD_Constraints/gmd:useLimitation" tooltip="gmd:useLimitation"/>
                </values>
                <snippet>
                  <gmd:resourceConstraints>
                    <gmd:MD_Constraints>
                      <gmd:useLimitation>
                          <gco:CharacterString>{{useLimitation}}</gco:CharacterString>
                      </gmd:useLimitation>
                    </gmd:MD_Constraints>
                  </gmd:resourceConstraints>
                </snippet>
            </template>
          </field>
          <action type="add" name="useLimitation" or="resourceConstraints"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification" forceLabel="true">
            <template>
              <snippet>
                <gmd:resourceConstraints>
                  <gmd:MD_Constraints>
                    <gmd:useLimitation>
                      <gco:CharacterString/>
                    </gmd:useLimitation>
                  </gmd:MD_Constraints>
                </gmd:resourceConstraints>
              </snippet>
            </template>
          </action>
          <field
              name="useLimitation" templateModeOnly="true" 
              xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:resourceConstraints[gmd:MD_Constraints/gmd:useLimitation]"
              if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
              del="."
          >
            <template>
                <values>
                    <key label="useLimitation" xpath="gmd:MD_Constraints/gmd:useLimitation" tooltip="gmd:useLimitation"/>
                </values>
                <snippet>
                  <gmd:resourceConstraints>
                    <gmd:MD_Constraints>
                      <gmd:useLimitation>
                          <gco:CharacterString>{{useLimitation}}</gco:CharacterString>
                      </gmd:useLimitation>
                    </gmd:MD_Constraints>
                  </gmd:resourceConstraints>
                </snippet>
            </template>
          </field>
          <action type="add" name="useLimitation" or="resourceConstraints"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification" forceLabel="true">
            <template>
              <snippet>
                <gmd:resourceConstraints>
                  <gmd:MD_Constraints>
                    <gmd:useLimitation>
                      <gco:CharacterString/>
                    </gmd:useLimitation>
                  </gmd:MD_Constraints>
                </gmd:resourceConstraints>
              </snippet>
            </template>
          </action>

          <!-- Access constraints-->
          <field name="accessConstraints" 
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:resourceConstraints[gmd:MD_LegalConstraints/gmd:otherConstraints]"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            del="."
            templateModeOnly="true"
          >
            <template>
                <values>
                    <key label="accessConstraints" xpath="gmd:MD_LegalConstraints/gmd:accessConstraints" tooltip="gmd:accessConstraints">
                        <codelist name="gmd:MD_RestrictionCode"/>
                    </key>
                    <key label="otherConstraints" xpath="gmd:MD_LegalConstraints/gmd:otherConstraints]" tooltip="gmd:otherConstraints]"/>
                </values>
                <snippet>
                  <gmd:resourceConstraints>
                    <gmd:MD_LegalConstraints>
                      <gmd:accessConstraints>
                        <gmd:MD_RestrictionCode
                          codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_RestrictionCode"
                          codeListValue="{{accessConstraints}}"/>
                      </gmd:accessConstraints>
                      <gmd:useConstraints/>
                      <gmd:otherConstraints>
                          <gco:CharacterString>{{otherConstraints}}</gco:CharacterString>
                      </gmd:otherConstraints>
                    </gmd:MD_LegalConstraints>
                  </gmd:resourceConstraints>
                </snippet>
            </template>
          </field>
          <action type="add" name="accessConstraints" or="resourceConstraints" forceLabel="true"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification">
            <template>
              <snippet>
                <gmd:resourceConstraints>
                  <gmd:MD_LegalConstraints>
                    <gmd:accessConstraints>
                      <gmd:MD_RestrictionCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_RestrictionCode"
                        codeListValue="otherRestrictions"/>
                    </gmd:accessConstraints>
                    <gmd:useConstraints/>
                    <gmd:otherConstraints gco:nilReason="missing">
                      <gco:CharacterString/>
                    </gmd:otherConstraints>
                  </gmd:MD_LegalConstraints>
                </gmd:resourceConstraints>
              </snippet>
            </template>
          </action>
          <field name="accessConstraints" 
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:resourceConstraints[gmd:MD_LegalConstraints/gmd:otherConstraints]"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            del="."
            templateModeOnly="true"
          >
            <template>
                <values>
                    <key label="accessConstraints" xpath="gmd:MD_LegalConstraints/gmd:accessConstraints" tooltip="gmd:accessConstraints">
                        <codelist name="gmd:MD_RestrictionCode"/>
                    </key>
                    <key label="otherConstraints" xpath="gmd:MD_LegalConstraints/gmd:otherConstraints]" tooltip="gmd:otherConstraints]"/>
                </values>
                <snippet>
                  <gmd:resourceConstraints>
                    <gmd:MD_LegalConstraints>
                      <gmd:accessConstraints>
                        <gmd:MD_RestrictionCode
                          codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_RestrictionCode"
                          codeListValue="{{accessConstraints}}"/>
                      </gmd:accessConstraints>
                      <gmd:useConstraints/>
                      <gmd:otherConstraints>
                          <gco:CharacterString>{{otherConstraints}}</gco:CharacterString>
                      </gmd:otherConstraints>
                    </gmd:MD_LegalConstraints>
                  </gmd:resourceConstraints>
                </snippet>
            </template>
          </field>
          <action type="add" name="accessConstraints" or="resourceConstraints" forceLabel="true"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification">
            <template>
              <snippet>
                <gmd:resourceConstraints>
                  <gmd:MD_LegalConstraints>
                    <gmd:accessConstraints>
                      <gmd:MD_RestrictionCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_RestrictionCode"
                        codeListValue="otherRestrictions"/>
                    </gmd:accessConstraints>
                    <gmd:useConstraints/>
                    <gmd:otherConstraints gco:nilReason="missing">
                      <gco:CharacterString/>
                    </gmd:otherConstraints>
                  </gmd:MD_LegalConstraints>
                </gmd:resourceConstraints>
              </snippet>
            </template>
          </action>

          <!-- Classification constraints -->
          <field name="classificationConstraints" 
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:resourceConstraints[gmd:MD_SecurityConstraints/gmd:classification]"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            del="."
            templateModeOnly="true"
          >
            <template>
                <values>
                    <key label="classificationConstraints" xpath="gmd:MD_SecurityConstraints/gmd:classification" tooltip="gmd:classification]"/>
                </values>
                <snippet>
                  <gmd:resourceConstraints>
                    <gmd:MD_SecurityConstraints>
                      <gmd:classification>
                          <gmd:MD_ClassificationCode
                          codeList="./resources/codeList.xml#MD_ClassificationCode" codeListValue="{{classification}}"/>
                      </gmd:classification>
                    </gmd:MD_SecurityConstraints>
                  </gmd:resourceConstraints>
                </snippet>
            </template>
          </field>
          <action type="add" name="classificationConstraints" or="resourceConstraints" forceLabel="true"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification">
            <template>
              <snippet>
                <gmd:resourceConstraints>
                  <gmd:MD_LegalConstraints>
                    <gmd:accessConstraints>
                      <gmd:MD_RestrictionCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_RestrictionCode"
                        codeListValue="otherRestrictions"/>
                    </gmd:accessConstraints>
                    <gmd:useConstraints/>
                    <gmd:otherConstraints gco:nilReason="missing">
                      <gco:CharacterString/>
                    </gmd:otherConstraints>
                  </gmd:MD_LegalConstraints>
                </gmd:resourceConstraints>
              </snippet>
            </template>
          </action>            
          <field name="classificationConstraints"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:resourceConstraints[gmd:MD_SecurityConstraints/gmd:classification]"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            del="."
            templateModeOnly="true"
          >
            <template>
                <values>
                    <key label="classificationConstraints" xpath="gmd:MD_SecurityConstraints/gmd:classification" tooltip="gmd:classification]"/>
                </values>
                <snippet>
                  <gmd:resourceConstraints>
                    <gmd:MD_SecurityConstraints>
                      <gmd:classification>
                          <gmd:MD_ClassificationCode
                          codeList="./resources/codeList.xml#MD_ClassificationCode" codeListValue="{{classification}}"/>
                      </gmd:classification>
                    </gmd:MD_SecurityConstraints>
                  </gmd:resourceConstraints>
                </snippet>
            </template>
          </field>
          <action type="add" name="classification" or="resourceConstraints" forceLabel="true"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification">
            <template>
              <snippet>
                <gmd:resourceConstraints>
                  <gmd:MD_LegalConstraints>
                    <gmd:accessConstraints>
                      <gmd:MD_RestrictionCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#MD_RestrictionCode"
                        codeListValue="otherRestrictions"/>
                    </gmd:accessConstraints>
                    <gmd:useConstraints/>
                    <gmd:otherConstraints gco:nilReason="missing">
                      <gco:CharacterString/>
                    </gmd:otherConstraints>
                  </gmd:MD_LegalConstraints>
                </gmd:resourceConstraints>
              </snippet>
            </template>
          </action>            
        </section>
        
        <!-- Odgovorna strana za izvor podataka-->
        <section name="pointOfContact">
          <!-- Za datasetove -->
          <field name="pointOfContact" templateModeOnly="true"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification/gmd:pointOfContact"
            del="."
            >
            <template>
              <values readonlyIf="count(@xlink:href) > 0">
                <key label="organisationName"
                  xpath="gmd:CI_ResponsibleParty/gmd:organisationName/gco:CharacterString"/>
                <key label="individualName"
                  xpath="gmd:CI_ResponsibleParty/gmd:individualName/gco:CharacterString"/>
                <key label="positionName"
                  xpath="gmd:CI_ResponsibleParty/gmd:positionName/gco:CharacterString"/>
                <key label="voiceTelephone"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:phone/gmd:CI_Telephone/gmd:voice/gco:CharacterString"/>
                <key label="deliveryPoint"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:deliveryPoint/gco:CharacterString"/>
                <key label="postalCode"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:postalCode/gco:CharacterString"/>
                <key label="city"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:city/gco:CharacterString"/>
                <key label="electronicMailAddress"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/
                    gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:electronicMailAddress/gco:CharacterString"
                  use="email"/>
                <key label="role"
                  xpath="gmd:CI_ResponsibleParty/gmd:role/gmd:CI_RoleCode/@codeListValue">
                  <codelist name="gmd:CI_RoleCode"/>
                </key>
              </values>
              <snippet>
                <gmd:pointOfContact>
                  <gmd:CI_ResponsibleParty>
                    <gmd:individualName>
                       <gco:CharacterString>{{individualName}}</gco:CharacterString>
                    </gmd:individualName>
                    <gmd:organisationName>
                      <gco:CharacterString>{{organisationName}}</gco:CharacterString>
                    </gmd:organisationName>
                    <gmd:positionName>
                       <gco:CharacterString>{{positionName}}</gco:CharacterString>
                    </gmd:positionName>
                    <gmd:contactInfo>
                      <gmd:CI_Contact>
                        <gmd:phone>
                           <gmd:CI_Telephone>
                              <gmd:voice>
                                 <gco:CharacterString>{{voiceTelephone}}</gco:CharacterString>
                              </gmd:voice>
                              <gn:copy select="gmd:facsimile"/>
                           </gmd:CI_Telephone>
                        </gmd:phone>
                        <gmd:address>
                          <gmd:CI_Address>
                            <gmd:deliveryPoint>
                               <gco:CharacterString>{{deliveryPoint}}</gco:CharacterString>
                            </gmd:deliveryPoint>
                            <gmd:city>
                               <gco:CharacterString>{{city}}</gco:CharacterString>
                            </gmd:city>
                            <gn:copy select="gmd:administrativeArea"/>
                            <gmd:postalCode>
                               <gco:CharacterString>{{postalCode}}</gco:CharacterString>
                            </gmd:postalCode>
                            <gn:copy select="gmd:country"/>
                            <gmd:electronicMailAddress>
                              <gco:CharacterString>{{electronicMailAddress}}</gco:CharacterString>
                            </gmd:electronicMailAddress>
                          </gmd:CI_Address>
                        </gmd:address>
                      </gmd:CI_Contact>
                    </gmd:contactInfo>
                    <gmd:role>
                      <gmd:CI_RoleCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_RoleCode"
                        codeListValue="{{role}}"/>
                    </gmd:role>
                  </gmd:CI_ResponsibleParty>
                </gmd:pointOfContact>
              </snippet>
            </template>
          </field>
          <action type="add" name="pointOfContact" forceLabel="true"
            or="pointOfContact"
            if="not(count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0)"
            in="/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification">
            <!-- addDirective="data-gn-directory-entry-selector" -->
<!--            <directiveAttributes
                    data-template-add-action="true"
                    data-template-type="contact"
                    data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"/>-->
            <template>
              <snippet>
                <gmd:contact>
                  <gmd:CI_ResponsibleParty>
                    <gmd:individualName>
                       <gco:CharacterString/>
                    </gmd:individualName>
                    <gmd:organisationName>
                      <gco:CharacterString/>
                    </gmd:organisationName>
                    <gmd:positionName>
                       <gco:CharacterString/>
                    </gmd:positionName>
                    <gmd:contactInfo>
                      <gmd:CI_Contact>
                        <gmd:phone>
                           <gmd:CI_Telephone>
                              <gmd:voice>
                                 <gco:CharacterString/>
                              </gmd:voice>
                              <gmd:facsimile>
                                  <gco:CharacterString/>
                              </gmd:facsimile>
                           </gmd:CI_Telephone>
                        </gmd:phone>
                        <gmd:address>
                          <gmd:CI_Address>
                            <gmd:deliveryPoint>
                               <gco:CharacterString/>
                            </gmd:deliveryPoint>
                            <gmd:city>
                               <gco:CharacterString/>
                            </gmd:city>
                            <gmd:administrativeArea>
                                <gco:CharacterString/>
                            </gmd:administrativeArea>
                            <gmd:postalCode>
                               <gco:CharacterString/>
                            </gmd:postalCode>
                            <country>
                                <gco:CharacterString/>
                            </country>
                            <gmd:electronicMailAddress>
                              <gco:CharacterString/>
                            </gmd:electronicMailAddress>
                          </gmd:CI_Address>
                        </gmd:address>
                      </gmd:CI_Contact>
                    </gmd:contactInfo>
                    <gmd:role>
                      <gmd:CI_RoleCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_RoleCode"
                        codeListValue="pointOfContact"/>
                    </gmd:role>
                  </gmd:CI_ResponsibleParty>
                </gmd:contact>
              </snippet>
            </template>
          </action>
          <!-- Za servise -->            
          <field name="pointOfContact" templateModeOnly="true"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            xpath="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/gmd:pointOfContact"
            del="."
            >
            <template>
              <values readonlyIf="count(@xlink:href) > 0">
                <key label="organisationName"
                  xpath="gmd:CI_ResponsibleParty/gmd:organisationName/gco:CharacterString"/>
                <key label="individualName"
                  xpath="gmd:CI_ResponsibleParty/gmd:individualName/gco:CharacterString"/>
                <key label="positionName"
                  xpath="gmd:CI_ResponsibleParty/gmd:positionName/gco:CharacterString"/>
                <key label="voiceTelephone"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:phone/gmd:CI_Telephone/gmd:voice/gco:CharacterString"/>
                <key label="deliveryPoint"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:deliveryPoint/gco:CharacterString"/>
                <key label="postalCode"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:postalCode/gco:CharacterString"/>
                <key label="city"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:city/gco:CharacterString"/>
                <key label="electronicMailAddress"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/
                    gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:electronicMailAddress/gco:CharacterString"
                  use="email"/>
                <key label="role"
                  xpath="gmd:CI_ResponsibleParty/gmd:role/gmd:CI_RoleCode/@codeListValue">
                  <codelist name="gmd:CI_RoleCode"/>
                </key>
              </values>
              <snippet>
                <gmd:pointOfContact>
                  <gmd:CI_ResponsibleParty>
                    <gmd:individualName>
                       <gco:CharacterString>{{individualName}}</gco:CharacterString>
                    </gmd:individualName>
                    <gmd:organisationName>
                      <gco:CharacterString>{{organisationName}}</gco:CharacterString>
                    </gmd:organisationName>
                    <gmd:positionName>
                       <gco:CharacterString>{{positionName}}</gco:CharacterString>
                    </gmd:positionName>
                    <gmd:contactInfo>
                      <gmd:CI_Contact>
                        <gmd:phone>
                           <gmd:CI_Telephone>
                              <gmd:voice>
                                 <gco:CharacterString>{{voiceTelephone}}</gco:CharacterString>
                              </gmd:voice>
                              <gn:copy select="gmd:facsimile"/>
                           </gmd:CI_Telephone>
                        </gmd:phone>
                        <gmd:address>
                          <gmd:CI_Address>
                            <gmd:deliveryPoint>
                               <gco:CharacterString>{{deliveryPoint}}</gco:CharacterString>
                            </gmd:deliveryPoint>
                            <gmd:city>
                               <gco:CharacterString>{{city}}</gco:CharacterString>
                            </gmd:city>
                            <gn:copy select="gmd:administrativeArea"/>
                            <gmd:postalCode>
                               <gco:CharacterString>{{postalCode}}</gco:CharacterString>
                            </gmd:postalCode>
                            <gn:copy select="gmd:country"/>
                            <gmd:electronicMailAddress>
                              <gco:CharacterString>{{electronicMailAddress}}</gco:CharacterString>
                            </gmd:electronicMailAddress>
                          </gmd:CI_Address>
                        </gmd:address>
                      </gmd:CI_Contact>
                    </gmd:contactInfo>
                    <gmd:role>
                      <gmd:CI_RoleCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_RoleCode"
                        codeListValue="{{role}}"/>
                    </gmd:role>
                  </gmd:CI_ResponsibleParty>
                </gmd:pointOfContact>
              </snippet>
            </template>
          </field>
          <action type="add" name="pointOfContact" forceLabel="true"
            or="pointOfContact"
            if="count(/gmd:MD_Metadata/gmd:hierarchyLevel/gmd:MD_ScopeCode[@codeListValue='service'])>0"
            in="/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification">
            <!-- addDirective="data-gn-directory-entry-selector" -->
<!--            <directiveAttributes
                    data-template-add-action="true"
                    data-template-type="contact"
                    data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"/>-->
            <template>
              <snippet>
                <gmd:contact>
                  <gmd:CI_ResponsibleParty>
                    <gmd:individualName>
                       <gco:CharacterString/>
                    </gmd:individualName>
                    <gmd:organisationName>
                      <gco:CharacterString/>
                    </gmd:organisationName>
                    <gmd:positionName>
                       <gco:CharacterString/>
                    </gmd:positionName>
                    <gmd:contactInfo>
                      <gmd:CI_Contact>
                        <gmd:phone>
                           <gmd:CI_Telephone>
                              <gmd:voice>
                                 <gco:CharacterString/>
                              </gmd:voice>
                              <gmd:facsimile>
                                  <gco:CharacterString/>
                              </gmd:facsimile>
                           </gmd:CI_Telephone>
                        </gmd:phone>
                        <gmd:address>
                          <gmd:CI_Address>
                            <gmd:deliveryPoint>
                               <gco:CharacterString/>
                            </gmd:deliveryPoint>
                            <gmd:city>
                               <gco:CharacterString/>
                            </gmd:city>
                            <gmd:administrativeArea>
                                <gco:CharacterString/>
                            </gmd:administrativeArea>
                            <gmd:postalCode>
                               <gco:CharacterString/>
                            </gmd:postalCode>
                            <country>
                                <gco:CharacterString/>
                            </country>
                            <gmd:electronicMailAddress>
                              <gco:CharacterString/>
                            </gmd:electronicMailAddress>
                          </gmd:CI_Address>
                        </gmd:address>
                      </gmd:CI_Contact>
                    </gmd:contactInfo>
                    <gmd:role>
                      <gmd:CI_RoleCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_RoleCode"
                        codeListValue="pointOfContact"/>
                    </gmd:role>
                  </gmd:CI_ResponsibleParty>
                </gmd:contact>
              </snippet>
            </template>
          </action>            
        </section>
        
        <!-- Kontakt za metapodatke -->
        <section name="metadata">
          <field name="metadataPointOfContact" templateModeOnly="true"
            notDisplayedIfMissing="true"
            xpath="/gmd:MD_Metadata/gmd:contact" del=".">
            <template>
              <values readonlyIf="count(@xlink:href) > 0">
                <key label="organisationName"
                  xpath="gmd:CI_ResponsibleParty/gmd:organisationName/gco:CharacterString"/>
                <key label="individualName"
                  xpath="gmd:CI_ResponsibleParty/gmd:individualName/gco:CharacterString"/>
                <key label="positionName"
                  xpath="gmd:CI_ResponsibleParty/gmd:positionName/gco:CharacterString"/>
                <key label="voiceTelephone"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:phone/gmd:CI_Telephone/gmd:voice/gco:CharacterString"/>
                <key label="deliveryPoint"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:deliveryPoint/gco:CharacterString"/>
                <key label="postalCode"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:postalCode/gco:CharacterString"/>
                <key label="city"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:city/gco:CharacterString"/>
                <key label="electronicMailAddress"
                  xpath="gmd:CI_ResponsibleParty/gmd:contactInfo/
                  gmd:CI_Contact/gmd:address/gmd:CI_Address/gmd:electronicMailAddress/gco:CharacterString"
                  use="email"/>
                <key label="role"
                     xpath="gmd:CI_ResponsibleParty/gmd:role/gmd:CI_RoleCode/@codeListValue">
                  <codelist name="gmd:CI_RoleCode"/>
                </key>
              </values>
              <snippet>
                <gmd:contact>
                  <gmd:CI_ResponsibleParty>
                    <gmd:individualName>
                       <gco:CharacterString>{{individualName}}</gco:CharacterString>
                    </gmd:individualName>
                    <gmd:organisationName>
                      <gco:CharacterString>{{organisationName}}</gco:CharacterString>
                    </gmd:organisationName>
                    <gmd:positionName>
                       <gco:CharacterString>{{positionName}}</gco:CharacterString>
                    </gmd:positionName>
                    <gmd:contactInfo>
                      <gmd:CI_Contact>
                        <gmd:phone>
                           <gmd:CI_Telephone>
                              <gmd:voice>
                                 <gco:CharacterString>{{voiceTelephone}}</gco:CharacterString>
                              </gmd:voice>
                              <gn:copy select="gmd:facsimile"/>
                           </gmd:CI_Telephone>
                        </gmd:phone>
                        <gmd:address>
                          <gmd:CI_Address>
                            <gmd:deliveryPoint>
                               <gco:CharacterString>{{deliveryPoint}}</gco:CharacterString>
                            </gmd:deliveryPoint>
                            <gmd:city>
                               <gco:CharacterString>{{city}}</gco:CharacterString>
                            </gmd:city>
                            <gn:copy select="gmd:administrativeArea"/>
                            <gmd:postalCode>
                               <gco:CharacterString>{{postalCode}}</gco:CharacterString>
                            </gmd:postalCode>
                            <gn:copy select="gmd:country"/>
                            <gmd:electronicMailAddress>
                              <gco:CharacterString>{{electronicMailAddress}}</gco:CharacterString>
                            </gmd:electronicMailAddress>
                          </gmd:CI_Address>
                        </gmd:address>
                        <gn:copy select="gmd:onlineResource"/>
                        <gn:copy select="gmd:hoursOfService"/>
                        <gn:copy select="gmd:contactInstructions"/>
                      </gmd:CI_Contact>
                    </gmd:contactInfo>
                    <gmd:role>
                      <gmd:CI_RoleCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_RoleCode"
                        codeListValue="{{role}}"/>
                    </gmd:role>
                  </gmd:CI_ResponsibleParty>
                </gmd:contact>
              </snippet>
            </template>
          </field>

          <action type="add" name="metadataPointOfContact" forceLabel="true"
            or="contact" in="/gmd:MD_Metadata">
              <!-- addDirective="data-gn-directory-entry-selector"  -->
<!--            <directiveAttributes
                    data-template-add-action="true"
                    data-template-type="contact"
                    data-variables="gmd:role/gmd:CI_RoleCode/@codeListValue~{role}"/>-->
            <template>
              <snippet>
                <gmd:contact>
                  <gmd:CI_ResponsibleParty>
                    <gmd:individualName>
                       <gco:CharacterString/>
                    </gmd:individualName>
                    <gmd:organisationName>
                      <gco:CharacterString/>
                    </gmd:organisationName>
                    <gmd:positionName>
                       <gco:CharacterString/>
                    </gmd:positionName>
                    <gmd:contactInfo>
                      <gmd:CI_Contact>
                        <gmd:phone>
                           <gmd:CI_Telephone>
                              <gmd:voice>
                                 <gco:CharacterString/>
                              </gmd:voice>
                              <gmd:facsimile>
                                  <gco:CharacterString/>
                              </gmd:facsimile>
                           </gmd:CI_Telephone>
                        </gmd:phone>
                        <gmd:address>
                          <gmd:CI_Address>
                            <gmd:deliveryPoint>
                               <gco:CharacterString/>
                            </gmd:deliveryPoint>
                            <gmd:city>
                               <gco:CharacterString/>
                            </gmd:city>
                            <gmd:administrativeArea>
                                <gco:CharacterString/>
                            </gmd:administrativeArea>
                            <gmd:postalCode>
                               <gco:CharacterString/>
                            </gmd:postalCode>
                            <country>
                                <gco:CharacterString/>
                            </country>
                            <gmd:electronicMailAddress>
                              <gco:CharacterString/>
                            </gmd:electronicMailAddress>
                          </gmd:CI_Address>
                        </gmd:address>
                      </gmd:CI_Contact>
                    </gmd:contactInfo>
                    <gmd:role>
                      <gmd:CI_RoleCode
                        codeList="http://standards.iso.org/ittf/PubliclyAvailableStandards/ISO_19139_Schemas/resources/codelist/ML_gmxCodelists.xml#CI_RoleCode"
                        codeListValue="pointOfContact"/>
                    </gmd:role>
                  </gmd:CI_ResponsibleParty>
                </gmd:contact>
              </snippet>
            </template>
          </action>

          <!-- Datum metapodataka -->
          <field xpath="/gmd:MD_Metadata/gmd:dateStamp"/>

          <!-- Jezik Metapodataka-->
          <field name="langMeta"
            xpath="/gmd:MD_Metadata/gmd:language"
            
          />
        </section>        
      </tab>
    </view>
    <view name="simple" disabled="true">
      <tab id="default" default="true" mode="flat">
        <section xpath="/gmd:MD_Metadata/gmd:identificationInfo"/>
        <section xpath="/gmd:MD_Metadata/gmd:referenceSystemInfo"/>
        <section xpath="/gmd:MD_Metadata/gmd:spatialRepresentationInfo"/>
        <section xpath="/gmd:MD_Metadata/gmd:distributionInfo"/>
        <section xpath="/gmd:MD_Metadata/gmd:dataQualityInfo"/>
        <section name="gmd:MD_Metadata">
          <field xpath="/gmd:MD_Metadata/gmd:fileIdentifier"/>
          <field xpath="/gmd:MD_Metadata/gmd:language" or="language" in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:characterSet"/>
          <field xpath="/gmd:MD_Metadata/gmd:parentIdentifier" or="parentIdentifier"
                 in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:hierarchyLevel" or="hierarchyLevel"
                 in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:hierarchyLevelName" or="hierarchyLevelName"
                 in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:dateStamp"/>
          <field xpath="/gmd:MD_Metadata/gmd:metadataStandardName"/>
          <field xpath="/gmd:MD_Metadata/gmd:metadataStandardVersion"/>
          <field xpath="/gmd:MD_Metadata/gmd:contact" or="contact" in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:dataSetURI" or="dataSetURI" in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:locale" or="locale" in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:series"/>
          <field xpath="/gmd:MD_Metadata/gmd:describes"/>
          <field xpath="/gmd:MD_Metadata/gmd:propertyType"/>
          <field xpath="/gmd:MD_Metadata/gmd:featureType"/>
          <field xpath="/gmd:MD_Metadata/gmd:featureAttribute"/>
        </section>
     </tab>
      
      <!-- Elements that should not use the "flat" mode --> 
      <flatModeExceptions>
        <for name="gmd:descriptiveKeywords" />
        <for name="gmd:keyword"/>
        <for name="gmd:spatialResolution"/>
        <for name="gmd:pointOfContact"/>
        <for name="gmd:distributor"/>
        <for name="gmd:contact"/>
        <for name="gmd:processor"/>
        <for name="gmd:citedResponsibleParty"/>
        <for name="gmd:topicCategory"/>
      </flatModeExceptions>

      <!--
      To configure the type of transformations
      or the number of keyword allowed for e
      thesaurus define a specific configuration:

      eg. only 2 INSPIRE themes with Anchor.

      <thesaurusList>
        <thesaurus key="external.theme.inspire-theme"
                   maxtags="2"
                   transformations="to-iso19139-keyword-with-anchor"/>
      </thesaurusList>
      -->
    </view>
    <view name="advanced" disabled="true">
      <tab id="identificationInfo" default="true">
        <section xpath="/gmd:MD_Metadata/gmd:identificationInfo" or="identificationInfo"
                 in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="distributionInfo">
        <section xpath="/gmd:MD_Metadata/gmd:distributionInfo" or="distributionInfo"
                 in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="dataQualityInfo">
        <section xpath="/gmd:MD_Metadata/gmd:dataQualityInfo" or="dataQualityInfo"
                 in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="spatialRepresentationInfo">
        <section xpath="/gmd:MD_Metadata/gmd:spatialRepresentationInfo"
                 or="spatialRepresentationInfo" in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="referenceSystemInfo">
        <section xpath="/gmd:MD_Metadata/gmd:referenceSystemInfo" or="referenceSystemInfo"
                 in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="contentInfo" toggle="true">
        <section xpath="/gmd:MD_Metadata/gmd:contentInfo" or="contentInfo" in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="portrayalCatalogueInfo" toggle="true">
        <section xpath="/gmd:MD_Metadata/gmd:portrayalCatalogueInfo" or="portrayalCatalogueInfo"
                 in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="metadata">
        <section name="metadata">
          <field xpath="/gmd:MD_Metadata/gmd:fileIdentifier"/>
          <field xpath="/gmd:MD_Metadata/gmd:language" or="language" in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:characterSet"/>
          <field xpath="/gmd:MD_Metadata/gmd:parentIdentifier" or="parentIdentifier"
                 in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:hierarchyLevel" or="hierarchyLevel"
                 in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:hierarchyLevelName" or="hierarchyLevelName"
                 in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:dateStamp"/>
          <field xpath="/gmd:MD_Metadata/gmd:metadataStandardName"/>
          <field xpath="/gmd:MD_Metadata/gmd:metadataStandardVersion"/>
          <field xpath="/gmd:MD_Metadata/gmd:contact" or="contact" in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:dataSetURI" or="dataSetURI" in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:locale" or="locale" in="/gmd:MD_Metadata"/>
          <field xpath="/gmd:MD_Metadata/gmd:series"/>
          <field xpath="/gmd:MD_Metadata/gmd:describes"/>
          <field xpath="/gmd:MD_Metadata/gmd:propertyType"/>
          <field xpath="/gmd:MD_Metadata/gmd:featureType"/>
          <field xpath="/gmd:MD_Metadata/gmd:featureAttribute"/>
        </section>
      </tab>
      <tab id="metadataConstraints" toggle="true">
        <section xpath="/gmd:MD_Metadata/gmd:metadataConstraints" or="metadataConstraints"
                 in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="metadataMaintenance" toggle="true">
        <section xpath="/gmd:MD_Metadata/gmd:metadataMaintenance" or="metadataMaintenance"
                 in="/gmd:MD_Metadata"/>
      </tab>
      <tab id="applicationSchemaInfo" toggle="true">
        <section xpath="/gmd:MD_Metadata/gmd:applicationSchemaInfo" or="applicationSchemaInfo"
                 in="/gmd:MD_Metadata"/>
      </tab>
    </view>
    <view name="xml">
      <tab id="xml" default="true"/>
    </view>
  </views>
</editor>
